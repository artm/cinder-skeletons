PROJECT( Skeleton )
CMAKE_MINIMUM_REQUIRED(VERSION 2.8)
LIST(APPEND CMAKE_MODULE_PATH ${CMAKE_SOURCE_DIR}/cmake)
SET(CMAKE_BUILD_TYPE DEBUG)
INCLUDE(ListFiles)
INCLUDE(ConfigMacros)

SET(EXE ${PROJECT_NAME})

LIST_FILES(app.sources APP_SOURCES "*.cpp")


ADD_EXECUTABLE(${EXE} MACOSX_BUNDLE ${APP_SOURCES})
SET_TARGET_PROPERTIES(${EXE}
  PROPERTIES
  COMPILE_FLAGS "-fvisibility-inlines-hidden"
  OSX_ARCHITECTURES i386
  MACOSX_BUNDLE true
  MACOSX_BUNDLE_BUNDLE_NAME "${PROJECT_NAME}"
  # MACOSX_BUNDLE_INFO_STRING ""
  MACOSX_BUNDLE_BUNDLE_VERSION "1"
  MACOSX_BUNDLE_LONG_VERSION_STRING "1"
  MACOSX_BUNDLE_SHORT_VERSION_STRING "1"
  # MACOSX_BUNDLE_ICON_FILE "${CMAKE_CURRENT_SOURCE_DIR}/sean.icns"
  MACOSX_BUNDLE_GUI_IDENTIFIER "${EXE}"
  #MACOSX_BUNDLE_COPYRIGHT "artm"
  )

# TODO hide this into a module
# this list is taken from an xcode project generated by tinder
FIND_AND_LINK_LIBRARY(Accelerate ${EXE})
FIND_AND_LINK_LIBRARY(AudioToolbox ${EXE})
FIND_AND_LINK_LIBRARY(AudioUnit ${EXE})
FIND_AND_LINK_LIBRARY(CoreAudio ${EXE})
FIND_AND_LINK_LIBRARY(QuickTime ${EXE})
FIND_AND_LINK_LIBRARY(QTKit ${EXE})
FIND_AND_LINK_LIBRARY(CoreVideo ${EXE})
FIND_AND_LINK_LIBRARY(Carbon ${EXE})
FIND_AND_LINK_LIBRARY(OpenGL ${EXE})
FIND_AND_LINK_LIBRARY(Cocoa ${EXE})
FIND_AND_LINK_LIBRARY(AppKit ${EXE})
FIND_AND_LINK_LIBRARY(CoreData ${EXE})
FIND_AND_LINK_LIBRARY(Foundation ${EXE})

# cinder needs some help (PATHS)
FIND_LIBRARY(cinder_LIBRARY cinder PATHS ${CINDER_ROOT}/lib)
FIND_AND_LINK_LIBRARY(cinder ${EXE})
FIND_PATH(cinder_INCLUDE cinder/app/AppBasic.h PATHS ${CINDER_ROOT}/include)
REQUIRE_HEADER(cinder_INCLUDE cinder/app/AppBasic.h)

FIND_PACKAGE(Boost REQUIRED)
INCLUDE_DIRECTORIES(${Boost_INCLUDE_DIRS})
#TARGET_LINK_LIBRARIES(${EXE} ${Boost_LIBRARIES})


